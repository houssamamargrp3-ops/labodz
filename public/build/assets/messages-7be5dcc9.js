class i{constructor(){this.handleFormSubmissions()}handleFormSubmissions(){document.querySelectorAll(".message-form-card form").forEach(s=>{s.addEventListener("submit",function(){const e=this.querySelector('button[type="submit"]');if(e&&!e.disabled){e.disabled=!0;const t=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin"></i> جاري الإرسال...',setTimeout(()=>{e.disabled=!1,e.innerHTML=t},5e3)}})})}}function a(n){const s=document.querySelector(`[data-message-id="${n}"]`);if(s){s.classList.remove("unread");const e=s.querySelector(".unread-badge");e&&e.remove()}}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".messages-container")&&(new i,window.markAsRead=a)});
