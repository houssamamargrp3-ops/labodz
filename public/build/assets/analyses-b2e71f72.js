class s{constructor(){this.handleImagePreview()}handleImagePreview(){const i=document.querySelector('input[name="image"]');i&&i.addEventListener("change",function(t){const a=t.target.files[0];if(a){const r=new FileReader;r.onload=function(o){let e=document.querySelector(".image-preview");e||(e=document.createElement("div"),e.className="image-preview",e.style.marginTop="10px",e.innerHTML='<p style="margin-bottom: 5px;">معاينة الصورة:</p><img src="" style="max-width: 200px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">',i.parentElement.appendChild(e)),e.querySelector("img").src=o.target.result,e.style.display="block"},r.readAsDataURL(a)}})}}function l(n){const t=n.closest(".description-cell").querySelector(".description-text"),a=t.getAttribute("data-full-text");if(t.getAttribute("data-short-text"),!a){const r=t.textContent;t.setAttribute("data-full-text",r),t.setAttribute("data-short-text",r.substring(0,50)+"...")}n.textContent.includes("عرض المزيد")?(t.textContent=t.getAttribute("data-full-text"),n.textContent="عرض أقل"):(t.textContent=t.getAttribute("data-short-text"),n.textContent="عرض المزيد")}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".stats-cards")&&(new s,window.toggleDescription=l)});
